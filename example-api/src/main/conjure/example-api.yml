types:
  definitions:
    default-package: com.palantir.conjure.examples
    objects:
      Temperature:
        fields:
          degree: double
          unit: string
      Ingredient:
        alias: string
      RecipeName:
        alias: string
      BakeStep:
        fields:
          temperature: Temperature
          durationInSeconds: integer
      RecipeStep:
        union:
          mix: set<Ingredient>
          chop: Ingredient
          bake: BakeStep
      Recipe:
        fields:
          name: RecipeName
          steps: list<RecipeStep>

    errors:
      RecipeNotFound:
        namespace: Recipe
        code: NOT_FOUND
        safe-args:
          name: RecipeName

services:
  RecipeBookService:
    name: Recipe Book
    package: com.palantir.comnjure.examples.api
    base-path: /
    docs: |
      APIs for retrieving recipes

    endpoints:
      getRecipe:
        http: GET /recipes/{name}
        args:
         name:
          type: RecipeName
        returns: optional<Recipe>
        docs: |
          Retrieves a recipe for the given name.

          @param name
                 The name of the recipe
